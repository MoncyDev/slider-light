window.SliderLight=class{constructor(t,i={}){this.container=document.querySelector(t),this.slides=this.container.querySelectorAll(".slider-light"),this.wrapper=document.createElement("div"),this.options=i,this.effect=i.effect||"slide",this.transition=i.transition||300,this.prevButton=document.querySelector(i.prevButton)||null,this.nextButton=document.querySelector(i.nextButton)||null,this.pagination=document.querySelector(i.pagination)||null,this.startX,this.currentX,this.isDragging=!1,this.currentSlide=0,this.prevValue=0,this.sliderWidth=0,this.currentSize=0,this.currentTranslate=0,this.currentPos=0,this.prevPos=0,this.margin=i.margin||0,this.autoplayInterval=null,this.lastSlide=this.slides.length-1,this.slidesPerView=this.options.slidesPerView||1,this.slidesPV=1,this.init()}init(){this.wrapSlider(),this.setupNavigation(),this.updateSlides(),this.AutoPlay(),this.reSize(),this.container.classList.add(`slider-${this.effect}`,"slider-light-container"),this.wrapper.addEventListener("touchstart",this.handleTouchStart),this.wrapper.addEventListener("touchmove",this.handleTouchMove),this.wrapper.addEventListener("touchend",this.handleTouchEnd),this.wrapper.addEventListener("mousedown",this.handleMouseStart),this.wrapper.addEventListener("mousemove",this.handleMouseMove),this.wrapper.addEventListener("mouseup",this.handleMouseEnd),this.wrapper.addEventListener("mouseleave",this.handleMouseEnd)}wrapSlider(){this.container.getAttribute("data-wrapped")||(this.wrapper.classList.add("wrap-slider-light"),this.slides.length>0&&(this.container.appendChild(this.wrapper),this.slides.forEach((t=>{this.wrapper.appendChild(t)})),this.container.setAttribute("data-wrapped","true")))}sliderInitialize(){this.CheckBreakpoint(),this.options.slidesPerView?this.sliderWidth=this.container.offsetWidth/this.slidesPerView-(this.margin-this.margin/this.slidesPerView):this.sliderWidth=this.container.offsetWidth,this.currentSize=this.sliderWidth+this.margin,this.slidesPV=this.options.slidesPerView||1}updateSlides(){this.sliderInitialize(),this.changeSlides(),this.options.slidesPerView&&(this.lastSlide=this.slides.length-this.slidesPerView),this.currentSlide>this.lastSlide&&(this.currentSlide=this.lastSlide),this.slides.forEach(((t,i)=>{t.style.width=this.sliderWidth+"px",t.style.marginRight=this.margin+"px",t.classList.remove(`slider-${this.effect}-light-active`),t.classList.remove(`slider-${this.effect}-light-prev`),t.classList.remove(`slider-${this.effect}-light-next`),i===this.currentSlide?t.classList.add(`slider-${this.effect}-light-active`):i===(this.currentSlide-1+this.slides.length)%this.slides.length?t.classList.add(`slider-${this.effect}-light-prev`):i===(this.currentSlide+1)%this.slides.length&&t.classList.add(`slider-${this.effect}-light-next`)})),this.prevButton&&this.nextButton&&(0===this.currentSlide?this.prevButton.classList.add("slider-light-button-disabled"):this.prevButton.classList.remove("slider-light-button-disabled"),this.currentSlide===this.lastSlide?this.nextButton.classList.add("slider-light-button-disabled"):this.nextButton.classList.remove("slider-light-button-disabled")),this.initPagination()}changeSlides(){const t=this.currentSize*this.currentSlide;this.currentTranslate=-t,"slide"===this.effect&&(this.wrapper.style.transition=`${this.transition}ms`,this.wrapper.style.transform=`translate3d(-${t}px,0,0)`)}setupNavigation(){this.prevButton&&this.nextButton&&(this.prevButton.addEventListener("click",(t=>this.prevSlide(t))),this.nextButton.addEventListener("click",(t=>this.nextSlide(t))))}initPagination(){if(this.container.querySelector(this.options.pagination)&&this.container.appendChild(this.pagination),this.pagination&&this.lastSlide>0){const t="slider-light-pagination";this.pagination.classList.contains(t)||this.pagination.classList.add(t);for(let t=0;t<this.lastSlide+1;t++)this.setupPagination(t),t===this.lastSlide&&this.pagination.setAttribute("data-dots",this.lastSlide+1);this.pagination.querySelectorAll("span").forEach(((t,i)=>{t.addEventListener("click",(()=>{this.currentSlide=i,this.updateSlides()})),this.currentSlide<=this.lastSlide&&(t.classList.remove("active-page"),this.currentSlide===i&&t.classList.add("active-page"))}))}}setupPagination(){if(!this.pagination.getAttribute("data-dots")&&this.pagination){const t=document.createElement("span");this.pagination.appendChild(t)}}prevSlide(t){0!==this.currentSlide&&(this.currentSlide=(this.currentSlide-1+this.slides.length)%this.slides.length,this.updateSlides(),this.restartAutoplay(),t.preventDefault())}nextSlide(t){this.currentSlide=(this.currentSlide+1)%(this.lastSlide+1),this.updateSlides(),this.restartAutoplay(),t.preventDefault()}DragEnd(){const t=this.sliderWidth/1.5;if(this.slides.forEach(((i,e)=>{const s=i.getBoundingClientRect(),r=this.container.getBoundingClientRect(),n=s.left-r.left;0===e&&n>0&&(this.currentSlide=0),n<t&&e<=this.lastSlide&&(this.currentSlide=e)})),this.prevValue!==this.currentSlide)this.updateSlides(),this.prevValue=this.currentSlide;else{const t=this.currentSize*this.currentSlide;this.wrapper.style.transition=`${this.transition}ms`,this.wrapper.style.transform=`translate3d(-${t}px,0,0)`}}handleMouseStart=t=>{this.stopAutoplay(),this.wrapper.style.transition="0s",this.startX=t.pageX,this.isDragging=!0,t.preventDefault()};handleMouseMove=t=>{if(!this.isDragging)return;this.currentX=t.pageX;const i=this.currentX-this.startX,e=this.currentTranslate+i;this.wrapper.style.transform=`translate3d(${e}px,0,0)`,t.preventDefault(),this.stopAutoplay()};handleMouseEnd=()=>{this.isDragging=!1,this.DragEnd()};handleTouchStart=t=>{this.startX=t.touches[0].pageX,this.isDragging=!0,this.wrapper.style.transition="0s",t.preventDefault(),this.stopAutoplay()};handleTouchMove=t=>{if(!this.isDragging)return;this.currentX=t.touches[0].pageX;const i=this.currentX-this.startX,e=this.currentTranslate+i;this.wrapper.style.transform=`translate3d(${e}px,0,0)`,t.preventDefault(),this.stopAutoplay()};handleTouchEnd=()=>{this.isDragging=!1,this.DragEnd()};CheckBreakpoint(){if(this.options.breakpoints){let t=!1;for(const[i,e]of Object.entries(this.options.breakpoints)){if(!(window.innerWidth>i))break;e.slidesPerView&&(this.slidesPerView=e.slidesPerView),e.margin&&(this.margin=e.margin),t=!0}if(this.slidesPV!==this.slidesPerView){if(this.pagination){for(;this.pagination.hasChildNodes();)this.pagination.removeChild(this.pagination.firstChild);this.pagination.removeAttribute("data-dots")}this.slidePV=this.slidesPerView}t||(this.margin=this.options.margin||0,this.slidesPerView=this.options.slidesPerView||1)}}AutoPlay(){this.options.autoplay&&(this.autoplayInterval=setInterval((()=>{this.currentSlide===this.lastSlide?this.currentSlide=0:this.currentSlide++,this.updateSlides()}),this.options.autoplay))}stopAutoplay(){clearInterval(this.autoplayInterval)}restartAutoplay(){this.stopAutoplay(),setTimeout((()=>{this.AutoPlay()}),500)}reSize(){window.addEventListener("resize",(()=>{this.updateSlides()}))}};